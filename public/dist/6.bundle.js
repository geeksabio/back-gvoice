(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{102:function(e,t,a){"use strict";var n=a(2),l=a(0),r=a(11),s=a(37),i=a(6),c=a(12),o=a(39),u=a(16),m=a(93),d=a(40);const h={fetchRequestedLanguages:o.a.actions.fetch};var g=Object(r.b)(({requestedLanguages:e})=>({requestedLanguages:e.languages}),h)(class extends l.Component{componentDidMount(){this.props.fetchRequestedLanguages()}render(){return l.createElement(d.a,{onChange:this.props.onChange},({getInputProps:e,getItemProps:t,isOpen:a,inputValue:r,selectedItem:s,highlightedIndex:c})=>{const o=Array.from(new Set(this.props.requestedLanguages||[])).filter(e=>e.toLowerCase().includes(r.toLowerCase())),u=o.find(e=>e.toLowerCase()===r.toLowerCase());return l.createElement("div",null,l.createElement(n.Localized,{id:"language-autocomplete",attrs:{label:!0}},l.createElement(i.f,Object.assign({},e({label:"Other Language",required:!0,type:"text"})))),l.createElement("div",{style:{position:"relative"}},a&&l.createElement("div",{style:{position:"absolute",left:0,top:"-1rem",zIndex:10,border:"1px solid #ccc",width:"100%",maxHeight:"5rem",overflowY:"auto",background:"white"}},!u&&l.createElement("div",Object.assign({},t({item:r}),{style:{backgroundColor:0===c?"lightgray":"white",fontWeight:s===name?"bold":"normal"}}),'Add new Language "',r,'"'),o.map((e,a)=>l.createElement("div",Object.assign({},t({item:e}),{key:e,style:{backgroundColor:c===a+(u?0:1)?"lightgray":"white",fontWeight:s===e?"bold":"normal"}}),e)))))})}}),p=a(5),E=({onRequestClose:e})=>l.createElement(l.Fragment,null,l.createElement(p.E,{className:"success"}),l.createElement(n.Localized,{id:"request-language-success-title"},l.createElement("h2",null)),l.createElement("br",null),l.createElement(n.Localized,{id:"request-language-success-content"},l.createElement("p",{className:"small"})),l.createElement("br",null),l.createElement(n.Localized,{id:"return-to-cv"},l.createElement(i.k,{onClick:e,className:"small",style:{fontWeight:"bold",color:"black"}})),l.createElement("br",null),l.createElement("br",null)),f=function(e,t,a,n){return new(a||(a=Promise))(function(l,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?l(e.value):new a(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})};const v={createLanguageRequest:o.a.actions.create,updateUser:u.a.actions.update};t.a=Object(r.b)(({api:e,user:t})=>({api:e,user:t}),v)(class extends l.Component{constructor(){super(...arguments),this.state={email:this.props.user.email,isSubmitted:!1,language:c.c[navigator.languages.find(e=>"en"!==e.split("-")[0])],otherLanguage:"",sendEmails:this.props.user.sendEmails},this.update=(({target:e})=>{this.setState({[e.name]:"checkbox"===e.type?e.checked:e.value})}),this.updateOtherLanguage=(e=>{this.setState({otherLanguage:e})}),this.save=(e=>f(this,void 0,void 0,function*(){e.preventDefault();const{api:t,createLanguageRequest:a,updateUser:n,user:l}=this.props,{email:r,language:s,otherLanguage:i,sendEmails:c}=this.state;a("other"==s?i:s),!l.sendEmails&&c&&(yield t.subscribeToNewsletter(r)),n({email:r,sendEmails:c}),this.setState({isSubmitted:!0})}))}render(){const{onRequestClose:e}=this.props,{email:t,language:a,otherLanguage:r,isSubmitted:o,sendEmails:u}=this.state;return l.createElement(s.b,{innerClassName:"request-language-modal "+(o?"":"left-align"),onRequestClose:e},o?l.createElement(E,{onRequestClose:e}):l.createElement("form",{onSubmit:this.save},l.createElement("div",{className:"title-and-action"},l.createElement(n.Localized,{id:"request-language-title"},l.createElement("h2",null))),l.createElement("br",null),l.createElement(n.Localized,{id:"request-language-form-language",attrs:{label:!0}},l.createElement(i.g,{name:"language",required:!0,value:a,onChange:this.update},l.createElement("option",{value:""},"Select a Language..."),Object.entries(c.c).map(([e,t])=>l.createElement("option",{key:t,value:t},t)),l.createElement("option",{value:"other"},"Other"))),"other"==a&&l.createElement(g,{onChange:this.updateOtherLanguage}),l.createElement(n.Localized,{id:"email-input",attrs:{label:!0}},l.createElement(i.f,{label:"Email",name:"email",required:!0,type:"email",value:t,onChange:this.update})),l.createElement("label",{className:"opt-in"},l.createElement("input",{name:"sendEmails",type:"checkbox",checked:u,onChange:this.update}),l.createElement(n.Localized,{id:"yes-receive-emails"},l.createElement("span",null))),l.createElement(i.d,null),l.createElement("div",{className:"actions"},l.createElement(n.Localized,{id:"submit-form-action"},l.createElement(i.b,{disabled:!t||("other"==a?!r:!a),type:"submit",rounded:!0})),l.createElement("div",null)),l.createElement("br",null),l.createElement(m.a,null)))}})},118:function(e,t,a){},119:function(e,t,a){"use strict";
/**
 * Convert a series of points to a monotone cubic spline
 * Algorithm based on https://github.com/mbostock/d3
 * https://github.com/yr/monotone-cubic-spline
 * @copyright Yr
 * @license MIT
 */var n=1e-6;function l(e,t){return(t[1]-e[1])/(t[0]-e[0])}e.exports={points:function(e){var t=function(e){for(var t=function(e){for(var t=[],a=e[0],n=e[1],r=t[0]=l(a,n),s=1,i=e.length-1;s<i;s++)a=n,n=e[s+1],t[s]=.5*(r+(r=l(a,n)));return t[s]=r,t}(e),a=e.length-1,r=[],s=void 0,i=void 0,c=void 0,o=void 0,u=0;u<a;u++)c=l(e[u],e[u+1]),Math.abs(c)<n?t[u]=t[u+1]=0:(s=t[u]/c,i=t[u+1]/c,(o=s*s+i*i)>9&&(o=3*c/Math.sqrt(o),t[u]=o*s,t[u+1]=o*i));for(var m=0;m<=a;m++)o=(e[Math.min(a,m+1)][0]-e[Math.max(0,m-1)][0])/(6*(1+t[m]*t[m])),r.push([o||0,t[m]*o||0]);return r}(e),a=e[1],r=e[0],s=[],i=t[1],c=t[0];s.push(r,[r[0]+c[0],r[1]+c[1],a[0]-i[0],a[1]-i[1],a[0],a[1]]);for(var o=2,u=t.length;o<u;o++){var m=e[o],d=t[o];s.push([m[0]-d[0],m[1]-d[1],m[0],m[1]])}return s},slice:function(e,t,a){var n=e.slice(t,a);if(t){if(n[1].length<6){var l=n[0].length;n[1]=[2*n[0][l-2]-n[0][l-4],2*n[0][l-1]-n[0][l-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n},svgPath:function(e){for(var t="",a=0;a<e.length;a++){var n=e[a],l=n.length;a?l>4?(t+="C"+n[0]+", "+n[1],t+=", "+n[2]+", "+n[3],t+=", "+n[4]+", "+n[5]):(t+="S"+n[0]+", "+n[1],t+=", "+n[2]+", "+n[3]):t+="M"+n[l-2]+" "+n[l-1]}return t}}},120:function(e,t,a){},121:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a(0),r=a(11),s=a(15),i=a(4),c=a(92),o=a(102),u=a(94),m=a(3),d=(a(118),function(e,t,a,n){return new(a||(a=Promise))(function(l,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?l(e.value):new a(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})});var h=Object(r.b)(({api:e,locale:t})=>({api:e,locale:t}))(class extends l.Component{constructor(){super(...arguments),this.state={count:null,dimensions:[],showToMeasure:!0},this.toggleableRefs=Array.from({length:4}).map(()=>l.createRef()),this.showToMeasure=(()=>this.setState({showToMeasure:!0}))}componentDidMount(){return d(this,void 0,void 0,function*(){window.addEventListener("resize",this.showToMeasure),this.measure();const{api:e,type:t}=this.props;this.setState({count:yield"speak"===t?e.fetchDailyClipsCount():e.fetchDailyVotesCount()})})}componentWillUnmount(){window.removeEventListener("resize",this.showToMeasure)}componentDidUpdate(){this.state.showToMeasure&&this.measure()}measure(){this.setState({dimensions:this.toggleableRefs.map(({current:{offsetWidth:e,offsetHeight:t}})=>({width:e,height:t})),showToMeasure:!1})}getToggleableProps(e,t=""){const{status:a}=this.props,{dimensions:n,showToMeasure:l}=this.state;return{ref:this.toggleableRefs[e],className:"toggleable "+t,style:l?{}:"active"===a?n[e]:{width:0,height:0}}}render(){const{locale:e,onHide:t,onShow:a,status:r,type:o}=this.props,{count:d}=this.state,h="speak"==o?c.e:c.b;return l.createElement("div",{className:["hero-box",o,r].join(" "),onClick:a,onMouseEnter:a,onMouseLeave:t},l.createElement("div",{className:"column title"},l.createElement(n.Localized,{id:o},l.createElement("h1",null)),l.createElement("h3",null,l.createElement(n.Localized,{id:o+"-subtitle"},l.createElement("span",null))),l.createElement("div",Object.assign({},this.getToggleableProps(0)),l.createElement(n.Localized,{id:o+"-paragraph"},l.createElement("p",{className:"description"})),l.createElement(n.Localized,{id:"read-terms-q"},l.createElement(i.b,{to:m.a.TERMS,className:"terms"})))),l.createElement("div",{className:"column cta"},l.createElement(h,{onClick:()=>Object(s.c)(o,e)}),l.createElement("div",Object.assign({},this.getToggleableProps(1,"line "+o))),l.createElement("div",Object.assign({},this.getToggleableProps(2)),l.createElement(n.Localized,{id:"help-reach-goal",$goal:u.a[o]},l.createElement("div",{className:"cta-message"})))),l.createElement("div",Object.assign({},this.getToggleableProps(3,"progress column")),l.createElement(n.Localized,{id:"todays-progress"},l.createElement("h3",{className:"progress-title"})),l.createElement("span",{className:"progress-count"},l.createElement("span",{className:"current"},null===d?"?":d),l.createElement("span",{className:"total"}," / ",u.a[o])),l.createElement("p",null,l.createElement(n.Localized,{id:o+"-goal-text"},l.createElement("i",null)))),l.createElement("div",{className:"fading"}))}}),g=a(91),p=a(98),E=(a(120),function(e,t,a,n){return new(a||(a=Promise))(function(l,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?l(e.value):new a(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})});const f=a(119),{Tooltip:v}=a(96);class b extends l.Component{constructor(){super(...arguments),this.state={locale:g.a},this.changeLocale=(e=>{Object(s.c)("metric-locale-change",e),this.setState({locale:e}),this.props.onLocaleChange(e==g.a?null:e)})}render(){const{children:e,header:t}=this.props;return l.createElement("div",{className:"home-card"},l.createElement("div",{className:"head"},t,l.createElement(g.b,{value:this.state.locale,onChange:this.changeLocale})),e)}}const w=({api:e})=>({api:e});var y;!function(e){const t=5,a=7;function s(e){const t=e%60,a=Math.floor(e/60)%60,n=Math.floor(e/3600);if(n>=1e3)return(n/1e3).toPrecision(2)+"k";const l=[];return n>0&&l.push(n+"h"),n<10&&a>0&&l.push(a+"m"),0==n&&a<10&&t>0&&l.push(t+"s"),l.join(" ")||"0"}const i=({attribute:e,children:t})=>l.createElement("div",{className:"metric-value "+e},l.createElement("div",{className:"point"},"●"),t),c=({data:e,labelId:t,attribute:a})=>l.createElement("div",{className:"metric"},l.createElement(n.Localized,{id:t},l.createElement("div",{className:"label"})),l.createElement(i,{attribute:a},e.length>0?s(e[e.length-1][a]):"?")),o=l.forwardRef(({attribute:e,data:t,max:n,width:r},s)=>{if(0===t.length)return null;const i=(e,l)=>[p.b+p.c+e*(r-p.b-2*p.c-8)/(t.length-1),p.e-1+(1-l/n)*(t.length+1)*p.d/a],c=t.length-1,[o,u]=i(c,t[c][e]);return l.createElement(l.Fragment,null,l.createElement("path",{d:f.svgPath(f.points(t.map((t,a)=>i(a,t[e])))),className:e,fill:"none",ref:s,strokeWidth:2}),l.createElement("circle",{cx:o,cy:u,r:8,fill:"white",className:"outer "+e}),l.createElement("circle",{cx:o,cy:u,r:6,className:"inner "+e}))});e.Root=Object(r.b)(w)(Object(n.withLocalization)(class extends l.Component{constructor(){super(...arguments),this.state={data:[],hoveredIndex:null},this.pathRef=l.createRef(),this.updateData=(e=>E(this,void 0,void 0,function*(){this.setState({data:yield this.props.api.fetchClipsStats(e)})})),this.handleMouseMove=(e=>{const a=this.pathRef.current;a||this.setState({hoveredIndex:null});const{left:n,width:l}=a.getBoundingClientRect(),r=Math.round(t*(e.clientX-n)/l)-1;this.setState({hoveredIndex:r>=0&&r<t?r:null})}),this.handleMouseOut=(()=>this.setState({hoveredIndex:null}))}componentDidMount(){return E(this,void 0,void 0,function*(){yield this.updateData()})}render(){const{getString:e}=this.props,{data:t,hoveredIndex:n}=this.state,r=t[n],{date:u,total:m,valid:d}=r||{},h=r?l.createElement(l.Fragment,null,l.createElement("b",null,new Date(u).toLocaleDateString([],{day:"numeric",month:"long",year:"numeric"})),l.createElement("div",{className:"metrics"},l.createElement(i,{attribute:"total"},s(m)),l.createElement(i,{attribute:"valid"},s(d)))):null;return l.createElement(b,{header:l.createElement("div",{className:"metrics"},l.createElement(c,{data:t,labelId:"hours-recorded",attribute:"total"}),l.createElement(c,{data:t,labelId:"hours-validated",attribute:"valid"})),onLocaleChange:this.updateData},l.createElement(v,{arrow:!0,duration:0,html:h,open:Boolean(h),theme:"white",followCursor:!0},l.createElement(p.f,{data:t,formatNumber:s,max:t.reduce((e,t)=>Math.max(e,t.total,t.valid),0),onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,renderXTickLabel:({date:t})=>{const a=new Date(t),n=Math.ceil(Math.abs(a.getTime()-(new Date).getTime())/864e5);return n<=1?e("today"):n<30?e("x-weeks-short",{count:Math.floor(n/7)}):n<365?e("x-months-short",{count:Math.floor(n/30)}):e("x-years-short",{count:Math.floor(n/365)})},tickCount:a,tickMultipliers:[10,60,600,3600,36e3,36e4]},e=>l.createElement(l.Fragment,null,l.createElement(o,Object.assign({attribute:"valid",data:t},e)),l.createElement(o,Object.assign({attribute:"total",data:t},e,{ref:this.pathRef}))))))}}))}(y||(y={}));const L=Object(r.b)(w)(class extends l.Component{constructor(){super(...arguments),this.state={data:[]},this.updateData=(e=>E(this,void 0,void 0,function*(){this.setState({data:yield this.props.api.fetchClipVoices(e)})}))}componentDidMount(){return E(this,void 0,void 0,function*(){yield this.updateData()})}render(){const{data:e}=this.state;return l.createElement(b,{header:l.createElement("div",null,l.createElement(n.Localized,{id:"voices-online"},l.createElement("h3",null)),l.createElement("div",{className:"online-voices"},e.length>0?e[e.length-1].value.toLocaleString():"?")),onLocaleChange:this.updateData},l.createElement(p.a,{data:e}))}});a(121);t.default=Object(r.b)(({locale:e})=>({locale:e}))(class extends l.Component{constructor(){super(...arguments),this.state={activeHero:null,showRequestLanguageModal:!1,showWallOfText:!1},this.statsRef=l.createRef(),this.showHandlerFor=(e=>()=>this.setState({activeHero:e})),this.hideHandlerFor=(e=>()=>this.setState(({activeHero:t})=>({activeHero:t===e?null:t})))}componentDidMount(){"#stats"==location.hash&&(this.statsRef.current.scrollIntoView(!0),window.scrollBy(0,-130))}render(){const{locale:e}=this.props,{activeHero:t,showRequestLanguageModal:a,showWallOfText:r}=this.state;return l.createElement("div",{className:"home"},l.createElement(i.a,{render:({isContributable:e})=>e?l.createElement("div",{className:"heroes"},["speak","listen"].map(e=>l.createElement(h,{key:e,type:e,status:t===e?"active":t?"compressed":null,onShow:this.showHandlerFor(e),onHide:this.hideHandlerFor(e)}))):l.createElement("div",{className:"non-contributable-hero"},l.createElement("img",{className:"fading",src:"/img/fading.svg",alt:"Fading"}),l.createElement("img",{className:"waves",src:"/img/home-waves/speak.svg",alt:"Waves"}))}),l.createElement("div",{className:"text"},l.createElement("div",{className:"inner"},l.createElement("div",{className:"title"},l.createElement(n.Localized,{id:"home-title"},l.createElement("h1",null))),l.createElement("div",{className:"description"},l.createElement(n.Localized,{id:"wall-of-text-first"},l.createElement("p",null)),l.createElement("br",null),l.createElement(n.Localized,{id:"wall-of-text-second"},l.createElement("p",null)),l.createElement("br",null),r&&l.createElement(l.Fragment,null,l.createElement(n.Localized,{id:"wall-of-text-more-desktop"},l.createElement("p",null)),l.createElement("br",null)),l.createElement(n.Localized,{id:r?"languages-show-less":"show-wall-of-text"},l.createElement("button",{className:"show-more",type:"button",onClick:()=>{this.setState({showWallOfText:!r}),Object(s.c)("read-more",e)}}))))),l.createElement("div",{className:"stats",ref:this.statsRef},l.createElement(y.Root,null),l.createElement(L,null)),l.createElement("div",{className:"mars"},l.createElement("div",{className:"mars-container"},l.createElement("img",{src:"/img/mars.svg",alt:"Mars"})),l.createElement("div",{className:"cta"},l.createElement(i.a,{render:({isContributable:t})=>t?l.createElement(l.Fragment,null,l.createElement(c.e,{onClick:()=>Object(s.c)("speak",e)}),l.createElement(n.Localized,{id:"ready-to-record"},l.createElement("h1",null))):l.createElement(l.Fragment,null,l.createElement(n.Localized,{id:"request-language-text"},l.createElement("h1",null)),l.createElement("div",{style:{width:"100%"}}),l.createElement(n.Localized,{id:"request-language-button"},l.createElement("button",{type:"button",className:"request-language",onClick:()=>this.setState({showRequestLanguageModal:!0})})),a&&l.createElement(o.a,{onRequestClose:()=>this.setState({showRequestLanguageModal:!1})}))}))))}})},91:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(2),l=a(40),r=a(0);a(95);const s=a(23),i="all-languages";t.b=(({value:e,onChange:t})=>r.createElement(l.a,{initialInputValue:e,onChange:t},({closeMenu:t,getItemProps:a,highlightedIndex:l,isOpen:c,openMenu:o,toggleMenu:u})=>r.createElement("div",{className:"language-select",onClick:()=>u()},r.createElement(n.Localized,{id:e},r.createElement("div",{className:"current"})),c&&r.createElement("ul",{onClick:()=>u()},[i].concat(s).map((t,s)=>r.createElement(n.Localized,{key:t,id:t},r.createElement("li",Object.assign({className:[t===e?"selected":"",l===s?"highlighted":""].join(" ")},a({item:t}),{value:t}))))))))},92:function(e,t,a){"use strict";a.d(t,"c",function(){return c}),a.d(t,"d",function(){return o}),a.d(t,"e",function(){return u}),a.d(t,"a",function(){return m}),a.d(t,"b",function(){return d});var n=a(0),l=a(3),r=a(4),s=a(5),i=(a(97),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&(a[n[l]]=e[n[l]])}return a});const c=e=>{var{className:t,to:a}=e,l=i(e,["className","to"]);return n.createElement("div",{className:["primary-button",t,l.disabled?"disabled":""].join(" ")},a?n.createElement(r.b,Object.assign({to:a},l)):n.createElement("button",Object.assign({type:"button"},l)),n.createElement("div",{className:"background"}))},o=e=>{var{status:t}=e,a=i(e,["status"]);return n.createElement(c,Object.assign({className:null===t?"stop":"record"},a,{disabled:"waiting"===t}),null===t&&n.createElement(s.u,null),"recording"===t&&n.createElement(s.D,null))},u=e=>n.createElement(c,Object.assign({className:"stop",to:l.a.SPEAK},e),n.createElement(s.u,null)),m=e=>{var{isPlaying:t}=e,a=i(e,["isPlaying"]);return n.createElement(c,Object.assign({className:t?"stop":"play"},a),t?n.createElement(s.D,null):n.createElement(s.v,null))},d=e=>n.createElement(c,Object.assign({className:"play",to:l.a.LISTEN},e),n.createElement(s.v,null))},93:function(e,t,a){"use strict";var n=a(2),l=a(0);t.a=(({localizedPrefix:e})=>(e=e||"",l.createElement(l.Fragment,null,l.createElement(n.Localized,{id:e+"stayintouch"},l.createElement("p",{className:"small"})),l.createElement("br",null),l.createElement(n.Localized,{id:e+"privacy-info",privacyLink:l.createElement("a",{href:"/privacy",target:"__blank",rel:"noopener noreferrer"})},l.createElement("p",{className:"small"})))))},94:function(e,t,a){"use strict";a.d(t,"a",function(){return n});const n=Object.freeze({speak:1200,listen:2400})},95:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.d(t,"e",function(){return s}),a.d(t,"d",function(){return i}),a.d(t,"b",function(){return o}),a.d(t,"c",function(){return u}),a.d(t,"f",function(){return m}),a.d(t,"a",function(){return g});var n=a(0),l=(a(99),function(e,t,a,n){return new(a||(a=Promise))(function(l,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?l(e.value):new a(function(t){t(e.value)}).then(s,i)}c((n=n.apply(e,t||[])).next())})}),r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&(a[n[l]]=e[n[l]])}return a};const s=10,i=154,c=40,o=c+5,u=13;class m extends n.Component{constructor(){super(...arguments),this.state={width:0},this.svgRef=n.createRef(),this.updateSize=(()=>{this.setState({width:this.svgRef.current.getBoundingClientRect().width})})}componentDidMount(){return l(this,void 0,void 0,function*(){window.addEventListener("resize",this.updateSize),this.updateSize()})}componentWillUnmount(){window.removeEventListener("resize",this.updateSize)}render(){let e=this.props,{children:t,data:a,formatNumber:l,max:m,renderXTickLabel:d,tickCount:h,tickMultipliers:g}=e,p=r(e,["children","data","formatNumber","max","renderXTickLabel","tickCount","tickMultipliers"]);const{width:E}=this.state,f=g.slice().reverse().find(e=>m>e)||1,v=(h-1)*f;return m+=v-m%v,n.createElement("svg",Object.assign({width:"100%",height:"100%",className:"plot"},p,{ref:this.svgRef}),Array.from({length:h}).map((e,t)=>{const a=t*i/h+s;return n.createElement(n.Fragment,{key:t},n.createElement("text",{className:"tick-label",x:c,y:a,dominantBaseline:"middle",textAnchor:"end"},l(Math.round((h-1-t)*m/(h-1)))),n.createElement("line",{x1:o,y1:a,x2:E+u,y2:a,stroke:"rgba(0,0,0,0.2)"}))}),a.map((e,t)=>n.createElement("text",{key:t,className:"x tick-label",x:o+t*((E-u-c)/a.length),y:s+i},d(e,t))),t({width:E,max:m}))}}const d=.75*i;function h(e){return e>1e3?Math.round(e/1e3)+"k":e.toString()}const g=({data:e})=>n.createElement(m,{data:e,formatNumber:h,max:e.reduce((e,t)=>Math.max(e,t.value),0),renderXTickLabel:({date:e})=>{const t=new Date(e).toLocaleString([],{hour:"2-digit",minute:"2-digit"}).replace(" AM","").replace(" PM","");return window.innerWidth<450?t.split(":")[0]:t},tickCount:4,tickMultipliers:[5,10,100,1e3]},({max:t,width:a})=>{const l=a<400?7:15,r=e=>o+u-l/2+e*(a-u-c)/10;return n.createElement(n.Fragment,null,Array.from({length:10}).map((e,t)=>n.createElement("rect",{key:t,className:"bg",x:r(t),y:s,width:l,height:d})),n.createElement("defs",null,n.createElement("linearGradient",{id:"blue-purple",x2:"0%",y2:"100%"},n.createElement("stop",{offset:"5%",stopColor:"#88d1f1"}),n.createElement("stop",{offset:"95%",stopColor:"#b1b5e5"}))),e.map(({value:e},a)=>{const i=e*d/t||0;return n.createElement("rect",{key:a,fill:"url(#blue-purple)",className:a+1===10?"current":"",x:r(a),y:s+d-i,width:l,height:i})}))})},99:function(e,t,a){}}]);